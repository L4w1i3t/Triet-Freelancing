// ==================================================
// BACKGROUND EFFECTS - LIQUID GLASS / INTERSTELLAR
// ==================================================

// Cosmic starfield background
.cosmic-starfield {
  position: fixed;
  top: -100vh;
  left: 0;
  width: 100%;
  height: 200vh;
  z-index: var(--z-background);
  pointer-events: none;

  &::before,
  &::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  // Small stars - randomized positions
  &::before {
    background-image:
      radial-gradient(
        2px 2px at 23px 67px,
        rgba(255, 255, 255, 0.8),
        transparent
      ),
      radial-gradient(
        1px 1px at 127px 43px,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 71px 156px,
        rgba(255, 255, 255, 0.9),
        transparent
      ),
      radial-gradient(
        2px 2px at 189px 91px,
        rgba(255, 255, 255, 0.7),
        transparent
      ),
      radial-gradient(
        1px 1px at 34px 178px,
        rgba(255, 255, 255, 0.8),
        transparent
      ),
      radial-gradient(
        1px 1px at 156px 23px,
        rgba(255, 255, 255, 0.5),
        transparent
      ),
      radial-gradient(
        2px 2px at 98px 134px,
        rgba(255, 255, 255, 0.7),
        transparent
      ),
      radial-gradient(
        1px 1px at 12px 89px,
        rgba(255, 255, 255, 0.6),
        transparent
      );
    background-repeat: repeat;
    background-size:
      200px 200px,
      180px 220px,
      240px 190px,
      210px 205px;
  }

  // Medium stars - randomized positions and colors
  &::after {
    background-image:
      radial-gradient(
        1px 1px at 67px 134px,
        rgba(77, 171, 247, 0.8),
        transparent
      ),
      radial-gradient(
        1px 1px at 178px 45px,
        rgba(151, 117, 250, 0.8),
        transparent
      ),
      radial-gradient(
        1px 1px at 89px 203px,
        rgba(255, 107, 157, 0.8),
        transparent
      ),
      radial-gradient(
        1px 1px at 234px 78px,
        rgba(34, 211, 238, 0.7),
        transparent
      ),
      radial-gradient(
        1px 1px at 145px 167px,
        rgba(77, 171, 247, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 56px 234px,
        rgba(151, 117, 250, 0.7),
        transparent
      ),
      radial-gradient(
        1px 1px at 201px 123px,
        rgba(255, 107, 157, 0.6),
        transparent
      );
    background-repeat: repeat;
    background-size:
      250px 250px,
      270px 230px,
      220px 280px,
      245px 265px;
  }
}

// Nebula effect - Advanced organic cosmic clouds
.nebula-effect {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: var(--z-background);
  pointer-events: none;
  opacity: 0.4;
  overflow: hidden;

  // Primary nebula clouds with organic shapes
  &::before,
  &::after {
    content: "";
    position: absolute;
    filter: blur(80px);
    animation-timing-function: ease-in-out;
    animation-iteration-count: infinite;
    animation-direction: alternate;
  }

  // Large cosmic nebula - Blue/Purple
  &::before {
    top: -10%;
    left: -5%;
    width: 60vw;
    height: 40vh;
    background:
      radial-gradient(
        ellipse 80% 60% at 30% 40%,
        rgba(77, 171, 247, 0.6) 0%,
        rgba(151, 117, 250, 0.4) 30%,
        rgba(34, 211, 238, 0.2) 60%,
        transparent 85%
      ),
      radial-gradient(
        ellipse 50% 80% at 70% 20%,
        rgba(151, 117, 250, 0.4) 0%,
        rgba(77, 171, 247, 0.2) 40%,
        transparent 70%
      );
    border-radius: 73% 27% 83% 17% / 72% 89% 11% 28%;
    animation: nebulaFlow1 35s ease-in-out infinite;
  }

  // Secondary nebula - Pink/Cyan
  &::after {
    bottom: -15%;
    right: -10%;
    width: 50vw;
    height: 45vh;
    background:
      radial-gradient(
        ellipse 70% 90% at 60% 30%,
        rgba(255, 107, 157, 0.5) 0%,
        rgba(34, 211, 238, 0.3) 40%,
        rgba(151, 117, 250, 0.2) 70%,
        transparent 90%
      ),
      radial-gradient(
        ellipse 90% 50% at 20% 80%,
        rgba(34, 211, 238, 0.4) 0%,
        rgba(255, 107, 157, 0.2) 50%,
        transparent 80%
      );
    border-radius: 31% 69% 47% 53% / 68% 19% 81% 32%;
    animation: nebulaFlow2 40s ease-in-out infinite;
  }

  // Floating nebula layers with complex shapes
  .nebula-layer {
    position: absolute;
    filter: blur(60px);

    &:nth-child(1) {
      top: 20%;
      left: 60%;
      width: 35vw;
      height: 25vh;
      background:
        radial-gradient(
          ellipse 60% 80% at 40% 60%,
          rgba(151, 117, 250, 0.4) 0%,
          rgba(77, 171, 247, 0.2) 50%,
          transparent 75%
        ),
        radial-gradient(
          ellipse 80% 40% at 80% 20%,
          rgba(34, 211, 238, 0.3) 0%,
          transparent 60%
        );
      border-radius: 83% 17% 92% 8% / 74% 91% 9% 26%;
      animation: nebulaFlow3 28s ease-in-out infinite;
    }

    &:nth-child(2) {
      top: 50%;
      right: 70%;
      width: 40vw;
      height: 30vh;
      background:
        radial-gradient(
          ellipse 90% 60% at 20% 70%,
          rgba(34, 211, 238, 0.35) 0%,
          rgba(255, 107, 157, 0.2) 40%,
          transparent 70%
        ),
        radial-gradient(
          ellipse 50% 90% at 90% 30%,
          rgba(151, 117, 250, 0.3) 0%,
          transparent 65%
        );
      border-radius: 19% 81% 23% 77% / 89% 34% 66% 11%;
      animation: nebulaFlow4 45s ease-in-out infinite;
    }

    &:nth-child(3) {
      top: 70%;
      left: 10%;
      width: 30vw;
      height: 35vh;
      background: radial-gradient(
        ellipse 70% 50% at 50% 30%,
        rgba(255, 107, 157, 0.3) 0%,
        rgba(77, 171, 247, 0.2) 60%,
        transparent 80%
      );
      border-radius: 67% 33% 78% 22% / 45% 82% 18% 55%;
      animation: nebulaFlow5 33s ease-in-out infinite;
    }

    &:nth-child(4) {
      top: 5%;
      right: 25%;
      width: 25vw;
      height: 20vh;
      background: radial-gradient(
        ellipse 80% 90% at 70% 40%,
        rgba(77, 171, 247, 0.4) 0%,
        rgba(151, 117, 250, 0.2) 50%,
        transparent 75%
      );
      border-radius: 91% 9% 84% 16% / 23% 76% 24% 77%;
      animation: nebulaFlow6 25s ease-in-out infinite;
    }
  }
}

@keyframes nebulaFlow1 {
  0% {
    transform: translate(0, 0) rotate(0deg) scale(1);
    border-radius: 73% 27% 83% 17% / 72% 89% 11% 28%;
    opacity: 0.6;
  }
  20% {
    transform: translate(-30px, 40px) rotate(72deg) scale(1.1);
    border-radius: 91% 9% 47% 53% / 23% 76% 24% 77%;
    opacity: 0.4;
  }
  40% {
    transform: translate(60px, -20px) rotate(144deg) scale(0.9);
    border-radius: 31% 69% 78% 22% / 89% 34% 66% 11%;
    opacity: 0.7;
  }
  60% {
    transform: translate(-80px, 80px) rotate(216deg) scale(1.15);
    border-radius: 67% 33% 92% 8% / 45% 82% 18% 55%;
    opacity: 0.3;
  }
  80% {
    transform: translate(40px, -60px) rotate(288deg) scale(0.85);
    border-radius: 83% 17% 23% 77% / 74% 91% 9% 26%;
    opacity: 0.5;
  }
  100% {
    transform: translate(0, 0) rotate(360deg) scale(1);
    border-radius: 73% 27% 83% 17% / 72% 89% 11% 28%;
    opacity: 0.6;
  }
}

@keyframes nebulaFlow2 {
  0% {
    transform: translate(0, 0) rotate(0deg) scale(1);
    border-radius: 31% 69% 47% 53% / 68% 19% 81% 32%;
    opacity: 0.5;
  }
  25% {
    transform: translate(70px, -40px) rotate(90deg) scale(1.2);
    border-radius: 83% 17% 92% 8% / 74% 91% 9% 26%;
    opacity: 0.3;
  }
  50% {
    transform: translate(-50px, 60px) rotate(180deg) scale(0.8);
    border-radius: 67% 33% 78% 22% / 45% 82% 18% 55%;
    opacity: 0.6;
  }
  75% {
    transform: translate(90px, 30px) rotate(270deg) scale(1.1);
    border-radius: 19% 81% 23% 77% / 89% 34% 66% 11%;
    opacity: 0.4;
  }
  100% {
    transform: translate(0, 0) rotate(360deg) scale(1);
    border-radius: 31% 69% 47% 53% / 68% 19% 81% 32%;
    opacity: 0.5;
  }
}

@keyframes nebulaFlow3 {
  0%,
  100% {
    transform: translate(0, 0) scale(1) rotate(0deg);
    border-radius: 83% 17% 92% 8% / 74% 91% 9% 26%;
    opacity: 0.4;
  }
  33% {
    transform: translate(-60px, 40px) scale(1.3) rotate(120deg);
    border-radius: 91% 9% 84% 16% / 23% 76% 24% 77%;
    opacity: 0.2;
  }
  66% {
    transform: translate(80px, -30px) scale(0.7) rotate(240deg);
    border-radius: 67% 33% 78% 22% / 45% 82% 18% 55%;
    opacity: 0.5;
  }
}

@keyframes nebulaFlow4 {
  0%,
  100% {
    transform: translate(0, 0) scale(1) rotate(0deg);
    border-radius: 19% 81% 23% 77% / 89% 34% 66% 11%;
    opacity: 0.35;
  }
  50% {
    transform: translate(-70px, 50px) scale(1.25) rotate(180deg);
    border-radius: 73% 27% 83% 17% / 72% 89% 11% 28%;
    opacity: 0.2;
  }
}

@keyframes nebulaFlow5 {
  0%,
  100% {
    transform: translate(0, 0) scale(1) rotate(0deg);
    border-radius: 67% 33% 78% 22% / 45% 82% 18% 55%;
    opacity: 0.3;
  }
  40% {
    transform: translate(50px, -70px) scale(0.9) rotate(144deg);
    border-radius: 31% 69% 47% 53% / 68% 19% 81% 32%;
    opacity: 0.5;
  }
  80% {
    transform: translate(-40px, 30px) scale(1.15) rotate(288deg);
    border-radius: 83% 17% 92% 8% / 74% 91% 9% 26%;
    opacity: 0.25;
  }
}

@keyframes nebulaFlow6 {
  0%,
  100% {
    transform: translate(0, 0) scale(1) rotate(0deg);
    border-radius: 91% 9% 84% 16% / 23% 76% 24% 77%;
    opacity: 0.4;
  }
  30% {
    transform: translate(-45px, 60px) scale(1.2) rotate(108deg);
    border-radius: 19% 81% 23% 77% / 89% 34% 66% 11%;
    opacity: 0.2;
  }
  70% {
    transform: translate(65px, -35px) scale(0.8) rotate(252deg);
    border-radius: 67% 33% 78% 22% / 45% 82% 18% 55%;
    opacity: 0.6;
  }
}

// Floating particles
.particle-field {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: var(--z-background);
  pointer-events: none;
  overflow: hidden;

  .particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: var(--accent-aurora-cyan);
    border-radius: 50%;
    opacity: 0.6;
    animation: particleDrift 15s linear infinite;

    &:nth-child(2n) {
      background: var(--accent-aurora-purple);
      animation-duration: 20s;
      animation-delay: -5s;
    }

    &:nth-child(3n) {
      background: var(--accent-aurora-pink);
      animation-duration: 25s;
      animation-delay: -10s;
    }

    &:nth-child(4n) {
      width: 2px;
      height: 2px;
      animation-duration: 12s;
    }

    &:nth-child(5n) {
      width: 6px;
      height: 6px;
      animation-duration: 30s;
    }
  }
}

@keyframes particleDrift {
  0% {
    transform: translateY(100vh) translateX(0) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 0.6;
  }
  90% {
    opacity: 0.6;
  }
  100% {
    transform: translateY(-100px) translateX(100px) rotate(360deg);
    opacity: 0;
  }
}

// Aurora borealis effect
.aurora-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: var(--z-background);
  pointer-events: none;

  background: linear-gradient(
    45deg,
    rgba(77, 171, 247, 0.1) 0%,
    rgba(151, 117, 250, 0.1) 25%,
    rgba(255, 107, 157, 0.1) 50%,
    rgba(34, 211, 238, 0.1) 75%,
    rgba(77, 171, 247, 0.1) 100%
  );
  background-size: 400% 400%;
  animation: auroraWave 20s ease infinite;

  filter: blur(100px);
}

// Liquid blob morphing
.liquid-bg {
  position: fixed;
  top: 50%;
  left: 50%;
  width: 600px;
  height: 600px;
  transform: translate(-50%, -50%);
  z-index: var(--z-background);
  pointer-events: none;

  background: linear-gradient(
    45deg,
    rgba(77, 171, 247, 0.15),
    rgba(151, 117, 250, 0.15),
    rgba(255, 107, 157, 0.15)
  );

  border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
  animation: liquidMorph 15s ease-in-out infinite;
  filter: blur(80px);
}

// Depth of field blur effect
.depth-blur {
  position: relative;

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
      circle at 50% 50%,
      transparent 20%,
      rgba(10, 10, 35, 0.8) 80%
    );
    z-index: 1;
    pointer-events: none;
  }
}

// Energy waves
.energy-waves {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 200px;
  height: 200px;
  transform: translate(-50%, -50%);

  &::before,
  &::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 2px solid var(--accent-aurora-cyan);
    border-radius: 50%;
    opacity: 0;
    animation: energyPulse 3s ease-out infinite;
  }

  &::after {
    animation-delay: 1.5s;
  }
}

@keyframes energyPulse {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 0;
  }
}

// Section divider with cosmic theme
.cosmic-divider {
  position: relative;
  height: 100px;
  overflow: hidden;

  &::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent,
      var(--accent-aurora-cyan),
      var(--accent-aurora-purple),
      var(--accent-aurora-cyan),
      transparent
    );
    animation: dividerGlow 4s ease-in-out infinite;
  }

  &::after {
    content: "✦";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--accent-aurora-cyan);
    font-size: 1.5rem;
    animation: starTwinkle 3s ease-in-out infinite;
  }
}

@keyframes dividerGlow {
  0%,
  100% {
    opacity: 0.5;
  }
  50% {
    opacity: 1;
  }
}

@keyframes starTwinkle {
  0%,
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.7;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.2);
    opacity: 1;
  }
}

// Mobile-optimized background effects
@media (max-width: 1024px) {
  // Replace heavy cosmic background with simple gradient
  body {
    background: linear-gradient(
      135deg,
      #0a0a23 0%,
      #1a1a3a 25%,
      #2d1b69 50%,
      #1a1a3a 75%,
      #0a0a23 100%
    ) !important;
    background-attachment: fixed;
  }

  // Minimal nebula for mobile
  .nebula-effect {
    opacity: 0.15 !important;

    &::before {
      width: 200px !important;
      height: 150px !important;
      filter: blur(40px) !important;
      animation: simpleFloat 20s ease-in-out infinite !important;
    }

    &::after {
      width: 150px !important;
      height: 200px !important;
      filter: blur(30px) !important;
      animation: simpleFloat 25s ease-in-out infinite reverse !important;
    }

    .nebula-layer {
      display: none !important;
    }
  }
}

// Mobile and Tablet responsive - Hide stars and particles completely on mobile and tablet devices
@media (max-width: 1024px) {
  .cosmic-starfield,
  .cosmic-starfield::before,
  .cosmic-starfield::after,
  .particle-field,
  .floating-particles {
    display: none !important;
    opacity: 0 !important;
    visibility: hidden !important;
    pointer-events: none !important;
    background: none !important;
  }
  // Keep minimal nebula effect for atmosphere
  .nebula-effect {
    opacity: 0.1 !important;
    .nebula-layer {
      display: none !important;
    }
  }
}

@keyframes simpleFloat {
  0%,
  100% {
    transform: translateY(0) scale(1);
  }
  50% {
    transform: translateY(-20px) scale(1.1);
  }
}
